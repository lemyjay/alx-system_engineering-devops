#!/usr/bin/env bash
# A script to reload Gunicorn without downtime

# Get the PID of the Gunicorn master process using pgrep
PID=$(pgrep -f '[g]unicorn.*master')

# Check if Gunicorn is running
if [ -z "$PID" ]; then
    echo "Gunicorn is not running."
    exit 1
fi

# Send a HUP signal to the Gunicorn master process, double quoting $PID
kill -HUP "$PID"

echo "Gunicorn reloaded gracefully."

